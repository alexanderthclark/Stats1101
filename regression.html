

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Regression &#8212; Intro Stats</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/exercise.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-32DRGZQWDG"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-32DRGZQWDG');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'regression';</script>
    <link rel="shortcut icon" href="_static/norm_favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Probability" href="probability.html" />
    <link rel="prev" title="Correlation" href="correlation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/statLogo.svg" class="logo__image only-light" alt="Intro Stats - Home"/>
    <script>document.write(`<img src="_static/statLogo.svg" class="logo__image only-dark" alt="Intro Stats - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to Intro Stats
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Main Text</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="experiments.html">Experiments</a></li>


<li class="toctree-l1"><a class="reference internal" href="observational.html">Observational Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="natural.html">Natural Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="thehistogram.html">The Histogram</a></li>
<li class="toctree-l1"><a class="reference internal" href="centerspread.html">Center and Spread</a></li>
<li class="toctree-l1"><a class="reference internal" href="normal.html">Normal Distribution</a></li>
<li class="toctree-l1"><a class="reference internal" href="correlation.html">Correlation</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="probability.html">Probability</a></li>
<li class="toctree-l1"><a class="reference internal" href="bayes.html">Probability II</a></li>
<li class="toctree-l1"><a class="reference internal" href="chancevary.html">Chance Variability</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling.html">Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="confidenceintervals.html">Confidence Intervals</a></li>
<li class="toctree-l1"><a class="reference internal" href="hypothesistesting.html">Hypothesis Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="twosample.html">Two-Sample Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="chi2.html">The Chi-Square Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="more.html">More About Significance</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Google Sheets (optional)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="gsheets.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="ghistogram.html">Histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="gregression.html">Regression</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Python (optional)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="pycalculator.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="pylibs.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="statwrap0.html">StatWrap</a></li>

<li class="toctree-l1"><a class="reference internal" href="statwrapregression.html">Regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyHypothesisTesting.html">Hypothesis Testing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">R (optional)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Rbasics.html">Overview</a></li>


</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="solutions.html">Selected Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="other.html">Other</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/alexanderthclark/Stats1101/main?urlpath=tree/book/regression.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://colab.research.google.com/github/alexanderthclark/Stats1101/blob/main/book/regression.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/alexanderthclark/Stats1101" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/alexanderthclark/Stats1101/issues/new?title=Issue%20on%20page%20%2Fregression.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/regression.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Regression</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-line">Regression Line</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-slope">The Slope</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linearity">Linearity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-the-regression-line">Finding the Regression Line</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#residuals-errors">Residuals (Errors)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#outliers">Outliers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-the-regression-line">Evaluating the Regression Line</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-residual-plot">The residual plot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-fallacy">Regression Fallacy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="regression">
<span id="correlation"></span><h1>Regression<a class="headerlink" href="#regression" title="Permalink to this heading">#</a></h1>
<div class="seealso admonition">
<p class="admonition-title">Important Readings</p>
<ul class="simple">
<li><p><span id="id1">[<a class="reference internal" href="bibliography.html#id3" title="David Freedman, Robert Pisani, and Roger Purves. Statistics. WW Norton &amp; Company, 4 edition, 2007. URL: https://clio.columbia.edu/catalog/6285515.">FPP07</a>]</span>, Chapters 10, 11, 12</p></li>
</ul>
</div>
<section id="regression-line">
<h2>Regression Line<a class="headerlink" href="#regression-line" title="Permalink to this heading">#</a></h2>
<p>Suppose we wanted to predict a variable <span class="math notranslate nohighlight">\(y\)</span>. We could just guess the average <span class="math notranslate nohighlight">\(y\)</span> value. This can be improved upon by incorporating information from a related variable <span class="math notranslate nohighlight">\(x\)</span>. The regression line does that. It is the trend line through a scatter diagram of <span class="math notranslate nohighlight">\(x\)</span> vs <span class="math notranslate nohighlight">\(y\)</span>. The line estimates the average value of <span class="math notranslate nohighlight">\(y\)</span> corresponding to each possible <span class="math notranslate nohighlight">\(x\)</span>. We sometimes call this <strong>simple linear regression</strong> to emphasize that we are predicting <span class="math notranslate nohighlight">\(y\)</span> from a single variable <span class="math notranslate nohighlight">\(x\)</span>. Though not in our textbook, the notation <span class="math notranslate nohighlight">\(\hat{y}\)</span> (read as “y hat”) is often used for the predicted <span class="math notranslate nohighlight">\(y\)</span> value.</p>
<p>Use the interactive graph below, dragging the points around, to see how the regression line fits the data.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById(null);
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.4.1.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {throw error;
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById(null)).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><div class="output text_html">
<style>
.output {
    display: flex;
    align-items: center;
    justify-content: center;
}
</style>
</div><div class="output text_html">
  <div id="dd205d40-c695-47a5-b5a2-520c7939470c" data-root-id="p1053" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"d178edfd-72dc-417f-bcba-755e0df0f7ab":{"version":"3.4.1","title":"Bokeh Application","roots":[{"type":"object","name":"Column","id":"p1053","attributes":{"children":[{"type":"object","name":"Div","id":"p1049","attributes":{"width":400,"height":100,"text":"Slope: 1.0000<br>Intercept: 0.0000<br>SD of X: 1.4142<br>SD of Y: 1.4142<br>Correlation Coefficient: 1.0000"}},{"type":"object","name":"Figure","id":"p1007","attributes":{"width":450,"height":450,"x_range":{"type":"object","name":"Range1d","id":"p1016","attributes":{"end":6}},"y_range":{"type":"object","name":"Range1d","id":"p1017","attributes":{"end":6}},"x_scale":{"type":"object","name":"LinearScale","id":"p1018"},"y_scale":{"type":"object","name":"LinearScale","id":"p1019"},"title":{"type":"object","name":"Title","id":"p1014"},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1037","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1001","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:data",[{"type":"object","name":"CustomJS","id":"p1050","attributes":{"args":{"type":"map","entries":[["source",{"id":"p1001"}],["line_source",{"type":"object","name":"ColumnDataSource","id":"p1004","attributes":{"selected":{"type":"object","name":"Selection","id":"p1005","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1006"},"data":{"type":"map","entries":[["x",[1,5]],["y",[1.0,5.0]]]}}}],["div",{"id":"p1049"}]]},"code":"\n    const data = source.data;\n    const x = data['x'];\n    const y = data['y'];\n    const n = x.length;\n\n    if (n === 0) {\n        line_source.data = {'x': [], 'y': []};\n        div.text = \"Slope: N/A<br>Intercept: N/A<br>SD of X: N/A<br>SD of Y: N/A<br>Correlation Coefficient: N/A\";\n        return;\n    }\n\n    let sum_x = 0, sum_y = 0, sum_xy = 0, sum_xx = 0, sum_yy = 0;\n    for (let i = 0; i < n; i++) {\n        sum_x += x[i];\n        sum_y += y[i];\n        sum_xy += x[i] * y[i];\n        sum_xx += x[i] * x[i];\n        sum_yy += y[i] * y[i];\n    }\n\n    const mean_x = sum_x / n;\n    const mean_y = sum_y / n;\n    const slope = (sum_xy - n * mean_x * mean_y) / (sum_xx - n * mean_x * mean_x);\n    const intercept = mean_y - slope * mean_x;\n    const sdx = Math.sqrt(sum_xx / n - mean_x * mean_x);\n    const sdy = Math.sqrt(sum_yy / n - mean_y * mean_y);\n    const r = (sum_xy - n * mean_x * mean_y) / (Math.sqrt((sum_xx - n * mean_x * mean_x) * (sum_yy - n * mean_y * mean_y)));\n\n    const reg_x = [Math.min(...x), Math.max(...x)];\n    const reg_y = reg_x.map(x => slope * x + intercept);\n\n    line_source.data = {'x': reg_x, 'y': reg_y};\n    line_source.change.emit();\n\n    div.text = \"Slope: \" + slope.toFixed(4) + \"<br>Intercept: \" + intercept.toFixed(4) +\n               \"<br>SD of X: \" + sdx.toFixed(4) + \"<br>SD of Y: \" + sdy.toFixed(4) +\n               \"<br>Correlation Coefficient: \" + r.toFixed(4);\n"}}]]]},"selected":{"type":"object","name":"Selection","id":"p1002","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1003"},"data":{"type":"map","entries":[["x",[1,2,3,4,5]],["y",[1,2,3,4,5]]]}}},"view":{"type":"object","name":"CDSView","id":"p1038","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1039"}}},"glyph":{"type":"object","name":"Scatter","id":"p1034","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":20},"line_color":{"type":"value","value":"deepskyblue"},"line_alpha":{"type":"value","value":0.5},"fill_color":{"type":"value","value":"deepskyblue"},"fill_alpha":{"type":"value","value":0.5},"hatch_color":{"type":"value","value":"deepskyblue"},"hatch_alpha":{"type":"value","value":0.5}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1035","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":20},"line_color":{"type":"value","value":"deepskyblue"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"deepskyblue"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"deepskyblue"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1036","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":20},"line_color":{"type":"value","value":"deepskyblue"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"deepskyblue"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"deepskyblue"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1046","attributes":{"data_source":{"id":"p1004"},"view":{"type":"object","name":"CDSView","id":"p1047","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1048"}}},"glyph":{"type":"object","name":"Line","id":"p1043","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_alpha":0.7,"line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1044","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1045","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_alpha":0.2,"line_width":3}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1015","attributes":{"tools":[{"type":"object","name":"SaveTool","id":"p1030"},{"type":"object","name":"PointDrawTool","id":"p1051","attributes":{"renderers":[{"id":"p1037"}]}},{"type":"object","name":"HoverTool","id":"p1052","attributes":{"renderers":[{"id":"p1037"}],"tooltips":[["X","@x"],["Y","@y"]]}}],"active_tap":{"id":"p1051"}}},"left":[{"type":"object","name":"LinearAxis","id":"p1025","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1026","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1027"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1028"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1020","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1021","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1022"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1023"}}}],"center":[{"type":"object","name":"Grid","id":"p1024","attributes":{"axis":{"id":"p1020"}}},{"type":"object","name":"Grid","id":"p1029","attributes":{"dimension":1,"axis":{"id":"p1025"}}}]}}]}}]}};
  const render_items = [{"docid":"d178edfd-72dc-417f-bcba-755e0df0f7ab","roots":{"p1053":"dd205d40-c695-47a5-b5a2-520c7939470c"},"root_ids":["p1053"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<section id="the-slope">
<h3>The Slope<a class="headerlink" href="#the-slope" title="Permalink to this heading">#</a></h3>
<p>Conceptually, the regression line is distinct from a correlation coefficient because the slope conveys an <em>effect size</em>. If the slope is 2, we are saying that increasing <span class="math notranslate nohighlight">\(x\)</span> by 1 unit predicts a 2-unit increase in <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>The slope is directly related to the correlation coefficient, <span class="math notranslate nohighlight">\(r\)</span>. For each SD increase in <span class="math notranslate nohighlight">\(x\)</span>, there is an average increase of <span class="math notranslate nohighlight">\(r\)</span> SDs in <span class="math notranslate nohighlight">\(y\)</span>. The regression slope converts this from standard units back into natural units,</p>
<div class="math notranslate nohighlight">
\[ \text{slope} = r \frac{\text{SD}_y}{\text{SD}_x}.\]</div>
<figure class="align-default" id="rawstandardizedcorr">
<a class="reference internal image-reference" href="_images/rawStandardizedCorr.svg"><img alt="_images/rawStandardizedCorr.svg" src="_images/rawStandardizedCorr.svg" width="77%" /></a>
<figcaption>
<p><span class="caption-number">Fig. 29 </span><span class="caption-text">The regression slope and <span class="math notranslate nohighlight">\(r\)</span> are the same if the data is in standard units.</span><a class="headerlink" href="#rawstandardizedcorr" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Example</strong> Suppose, for a collection of foods, the correlation between protein and calories per 100 grams is <span class="math notranslate nohighlight">\(r = 0.4\)</span>. A particular food is 2 SDs above the average in calories. Predict how many SDs above average it is in protein per 100 grams.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Protein<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">The food will be <span class="math notranslate nohighlight">\(2 \times r = 0.8\)</span> SDs above the average in protein.</p>
</div>
</details><p><strong>Example</strong> Suppose, for a collection of foods, the correlation between protein and calories per 100 grams is <span class="math notranslate nohighlight">\(r = 0.4\)</span>. The average food has 180 calories and 12 grams of protein. The SDs are 60 and 4 for calories and protein, respectively. A particular food has 60 calories. Predict how many grams of protein it has.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Calories<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">The food is two SDs below the average in calories. It will be <span class="math notranslate nohighlight">\(2\times r = 0.8\)</span> SDs below average in protein. The prediction is <span class="math notranslate nohighlight">\(12 - (.8\times 4) = 8.8\)</span> grams of protein.</p>
</div>
</details></section>
<section id="linearity">
<h3>Linearity<a class="headerlink" href="#linearity" title="Permalink to this heading">#</a></h3>
<p>Any trustworthy regression is built on the assumption that <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> are linearly related. Which of these scenario are suited to regression analysis predicting wage in dollars from job tenure in months at a factory?</p>
<ol class="arabic simple">
<li><p>All employees are first hired at a wage of $20 per hour. Then at, at six months intervals, everyone receives a raise which averages $1 per hour.</p></li>
<li><p>All employees are first hired at a wage of $20 per hour. Then at, at six months intervals, everyone receives a raise which averages an additional 10% per hour.</p></li>
<li><p>All employees are first hired at a wage of $20 per hour. Everyone receives an average $1 per hour raise after their two years. The next raise is also $1 per hour, but it arrives after the next year. The next raise is also $1 per hour, but it arrives after the next six months…</p></li>
</ol>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Linearity<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Only the first example could be interpreted as a linear relationship between tenure and wage.</p>
</div>
</details></section>
<section id="finding-the-regression-line">
<h3>Finding the Regression Line<a class="headerlink" href="#finding-the-regression-line" title="Permalink to this heading">#</a></h3>
<p>The regression line is given by an equation <span class="math notranslate nohighlight">\(\hat{y} = mx + b\)</span>. The slope is <span class="math notranslate nohighlight">\(m\)</span>. The intercept, <span class="math notranslate nohighlight">\(b\)</span>, can be interpreted as the predicted value of <span class="math notranslate nohighlight">\(y\)</span> if <span class="math notranslate nohighlight">\(x=0\)</span>. The intercept is found by realizing that an average <span class="math notranslate nohighlight">\(x\)</span> value predicts an average <span class="math notranslate nohighlight">\(y\)</span> value. Armed with a slope and a point on the line, finding the intercept is a matter of algebra.</p>
<figure class="align-default" id="fathersonpanel3">
<a class="reference internal image-reference" href="_images/FatherSonPanel3.svg"><img alt="_images/FatherSonPanel3.svg" src="_images/FatherSonPanel3.svg" width="77%" /></a>
<figcaption>
<p><span class="caption-number">Fig. 30 </span><span class="caption-text">The best fit is found when the regression line passes throught the point of averages.</span><a class="headerlink" href="#fathersonpanel3" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The general recipe to find the line is:</p>
<ol class="arabic simple">
<li><p>The slope is <span class="math notranslate nohighlight">\(m = r \times \frac{\text{SD}_y}{\text{SD}_x}.\)</span></p></li>
<li><p>Now find <span class="math notranslate nohighlight">\(b\)</span>, the intercept.</p>
<ul class="simple">
<li><p>The point (<span class="math notranslate nohighlight">\(\text{Average}_x, \text{Average}_y\)</span>) is on the line.</p></li>
<li><p>Plug that into <span class="math notranslate nohighlight">\(y = r \frac{\text{SD}_y}{\text{SD}_x} x + b\)</span>.</p></li>
<li><p>Solve, <span class="math notranslate nohighlight">\(b = \text{Average}_y - r \frac{\text{SD}_y}{\text{SD}_x} \text{Average}_x \)</span>.</p></li>
</ul>
</li>
<li><p>The regression line is then <span class="math notranslate nohighlight">\(\hat{y} = mx + b.\)</span></p></li>
</ol>
</section>
</section>
<section id="residuals-errors">
<h2>Residuals (Errors)<a class="headerlink" href="#residuals-errors" title="Permalink to this heading">#</a></h2>
<p>The regression line provides an average prediction. For any data point, there is a prediction error (also called a residual). This is calculated</p>
<div class="math notranslate nohighlight">
\[\text{Prediction Error} = \text{Actual Value - Predicted Value}.\]</div>
<p>Here, the order matters. Positive prediction errors correspond to underestimations. Negative prediction errors arise when the predicted value is higher than the actual value. Above and below the regression line, we find positive and negative errors, respectively.</p>
<p>Below, we are predicting protein content from calories. The prediction line happens to separate animal protein sources from mostly vegan foods.</p>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById(null);
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.4.1.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {throw error;
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById(null)).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><div class="output text_html">
  <div id="f517635d-0a6b-4b0f-aaa3-1e88fcb56205" data-root-id="p1168" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"732beb03-b63a-4b67-994b-b0f777195124":{"version":"3.4.1","title":"Bokeh Application","roots":[{"type":"object","name":"Tabs","id":"p1168","attributes":{"tabs":[{"type":"object","name":"TabPanel","id":"p1166","attributes":{"title":"All Data","child":{"type":"object","name":"Figure","id":"p1057","attributes":{"width":450,"x_range":{"type":"object","name":"Range1d","id":"p1067","attributes":{"end":600}},"y_range":{"type":"object","name":"Range1d","id":"p1068","attributes":{"start":-1,"end":34}},"x_scale":{"type":"object","name":"LinearScale","id":"p1069"},"y_scale":{"type":"object","name":"LinearScale","id":"p1070"},"title":{"type":"object","name":"Title","id":"p1060","attributes":{"text":"Protein vs Calories"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1097","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1054","attributes":{"selected":{"type":"object","name":"Selection","id":"p1055","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1056"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"pQAAACIAAACbAAAA0AAAAHQAAAB4AAAAOwAAAPoAAABMAAAARwAAADQAAACSAQAAIwIAAA=="},"shape":[13],"dtype":"int32","order":"little"}],["y",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAP0BmZmZmZmYGQAAAAAAAACpAAAAAAAAANEAAAAAAAAAiQGZmZmZmZhBAAAAAAAAAJEAAAAAAAAA6QAAAAAAAACBAAAAAAAAABEAzMzMzMzPTPwAAAAAAADlAMzMzMzMzIEA="},"shape":[13],"dtype":"float64","order":"little"}],["food",{"type":"ndarray","array":["Chicken Breast","Broccoli","Eggs","Salmon","Lentils","Quinoa","Greek Yogurt","Beef (Lean)","Tofu","Oatmeal","Apples","Cheese (Cheddar)","Nutty Buddy (Little Debbies)"],"shape":[13],"dtype":"object","order":"little"}],["predicted",{"type":"ndarray","array":{"type":"bytes","data":"YKhY21QdKEDelhU8Z9YgQHy+yoofjydA4uK6tdOAKkDuR6HQgmQlQOML2vBknSVAlV94hew5IkBn7A4IGtYsQGSgaY6tKyNAcqsi5pLkIkCqCBXNYNYhQFUBPmjVozJAAuFC8NeqNkA="},"shape":[13],"dtype":"float64","order":"little"}],["residual",{"type":"ndarray","array":{"type":"bytes","data":"0KtTklXxMkCJ+vdEm3kWwCAMqqkDh/M/PDqKlFj+GkBwPwqFFiT7v2CxTXtj1BrAsAZ6qDdh7D+ZE/H35SknQCADTXNsXfm/5FZFzCXJG8AQb3szxzwhwKz6B1+qcBlA0Y5SrXwiLcA="},"shape":[13],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1098","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1099"}}},"glyph":{"type":"object","name":"Scatter","id":"p1094","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"line_color":{"type":"value","value":"royalblue"},"fill_color":{"type":"value","value":"royalblue"},"hatch_color":{"type":"value","value":"royalblue"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1095","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"line_color":{"type":"value","value":"royalblue"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"royalblue"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"royalblue"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1096","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"line_color":{"type":"value","value":"royalblue"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"royalblue"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"royalblue"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1106","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1100","attributes":{"selected":{"type":"object","name":"Selection","id":"p1101","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1102"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAQUAXXXTRRZdDQC666KKLLkZARhdddNHFSEBddNFFF11LQHTRRRdd9E1ARhdddNFFUEDSRRdddJFRQF100UUX3VJA6KKLLrooVEB00UUXXXRVQAAAAAAAwFZAjC666KILWEAXXXTRRVdZQKOLLrroolpALrrooovuW0C66KKLLjpdQEYXXXTRhV5A0UUXXXTRX0Auuuiii45gQHTRRRddNGFAuuiiiy7aYUAAAAAAAIBiQEYXXXTRJWNAjC666KLLY0DRRRdddHFkQBdddNFFF2VAXXTRRRe9ZUCjiy666GJmQOmiiy66CGdALrrooouuZ0B00UUXXVRoQLrooosu+mhAAAAAAACgaUBGF1100UVqQIsuuuii62pA0UUXXXSRa0AXXXTRRTdsQF100UUX3WxAo4suuuiCbUDooosuuihuQC666KKLzm5AdNFFF110b0BddNFFFw1wQAAAAAAAYHBAo4suuuiycEBGF1100QVxQOiiiy66WHFAjC666KKrcUAuuuiii/5xQNFFF110UXJAdNFFF12kckAXXXTRRfdyQLrooosuSnNAXXTRRRedc0AAAAAAAPBzQKOLLrroQnRARhdddNGVdEDpoosuuuh0QIsuuuiiO3VALrrooouOdUDRRRdddOF1QHTRRRddNHZAF1100UWHdkC66KKLLtp2QF100UUXLXdAAAAAAACAd0Cjiy666NJ3QEYXXXTRJXhA6aKLLrp4eECLLrroost4QC666KKLHnlA0UUXXXRxeUB00UUXXcR5QBdddNFFF3pAuuiiiy5qekBddNFFF716QAAAAAAAEHtAo4suuuhie0BGF1100bV7QOiiiy66CHxAiy666KJbfEAuuuiii658QNFFF110AX1AdNFFF11UfUAXXXTRRad9QLrooosu+n1AXXTRRRdNfkAAAAAAAKB+QKOLLrro8n5ARhdddNFFf0Dooosuuph/QIsuuuii639AF1100UUfgEDooosuukiAQLrooosucoBAjC666KKbgEBddNFFF8WAQC666KKL7oBAAAAAAAAYgUA="},"shape":[100],"dtype":"float64","order":"little"}],["y",{"type":"ndarray","array":{"type":"bytes","data":"3pYVPGfWIED+q43OFyAhQB3BBWHIaSFAPNZ983izIUBc6/WFKf0hQHsAbhjaRiJAmxXmqoqQIkC6Kl49O9oiQNk/1s/rIyNA+VROYpxtI0AYasb0TLcjQDh/Pof9ACRAV5S2Ga5KJEB2qS6sXpQkQJa+pj4P3iRAtdMe0b8nJUDU6JZjcHElQPT9DvYguyVAExOHiNEEJkAyKP8agk4mQFI9d60ymCZAclLvP+PhJkCRZ2fSkysnQLB832REdSdA0JFX9/S+J0Dvps+JpQgoQA68RxxWUihALtG/rgacKEBO5jdBt+UoQG37r9NnLylAjBAoZhh5KUCsJaD4yMIpQMs6GIt5DCpA6k+QHSpWKkAKZQiw2p8qQCl6gEKL6SpASI/41DszK0BopHBn7HwrQIi56PmcxitAp85gjE0QLEDG49ge/lksQOb4ULGuoyxABQ7JQ1/tLEAkI0HWDzctQEQ4uWjAgC1AZE0x+3DKLUCDYqmNIRQuQKJ3ISDSXS5AwoyZsoKnLkDgoRFFM/EuQAC3idfjOi9AIMwBapSEL0A+4Xn8RM4vQC/7eMf6CzBAvwW1ENMwMEBPEPFZq1UwQN4aLaODejBAbiVp7FufMED+L6U1NMQwQI064X4M6TBAHUUdyOQNMUCtT1kRvTIxQDxalVqVVzFAzGTRo218MUBcbw3tRaExQOx5STYexjFAe4SFf/bqMUALj8HIzg8yQJuZ/RGnNDJAK6Q5W39ZMkC6rnWkV34yQEq5se0vozJA2cPtNgjIMkBpzimA4OwyQPnYZcm4ETNAieOhEpE2M0AY7t1baVszQKj4GaVBgDNAOANW7hmlM0DIDZI38skzQFcYzoDK7jNA5yIKyqITNEB2LUYTezg0QAY4glxTXTRAlkK+pSuCNEAmTfruA6c0QLVXNjjcyzRARWJygbTwNEDVbK7KjBU1QGV36hNlOjVA9IEmXT1fNUCEjGKmFYQ1QBOXnu/tqDVAo6HaOMbNNUAyrBaCnvI1QMO2Ust2FzZAU8GOFE88NkDiy8pdJ2E2QHHWBqf/hTZAAuFC8NeqNkA="},"shape":[100],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1107","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1108"}}},"glyph":{"type":"object","name":"Line","id":"p1103","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red"}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1104","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red","line_alpha":0.1}},"muted_glyph":{"type":"object","name":"Line","id":"p1105","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red","line_alpha":0.2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1066","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1081"},{"type":"object","name":"WheelZoomTool","id":"p1082","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1083","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1084","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"ResetTool","id":"p1089"},{"type":"object","name":"SaveTool","id":"p1090"},{"type":"object","name":"HoverTool","id":"p1109","attributes":{"renderers":"auto","tooltips":[["Food","@food"],["Residual","@residual{0.00}"]]}}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1076","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1077","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1078"},"axis_label":"Protein (g per 100g)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1079"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1071","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1072","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1073"},"axis_label":"Calories (per 100g)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1074"}}}],"center":[{"type":"object","name":"Grid","id":"p1075","attributes":{"axis":{"id":"p1071"}}},{"type":"object","name":"Grid","id":"p1080","attributes":{"dimension":1,"axis":{"id":"p1076"}}}]}}}},{"type":"object","name":"TabPanel","id":"p1167","attributes":{"title":"Drop Nutty Buddy","child":{"type":"object","name":"Figure","id":"p1113","attributes":{"width":450,"x_range":{"type":"object","name":"Range1d","id":"p1123","attributes":{"end":600}},"y_range":{"type":"object","name":"Range1d","id":"p1124","attributes":{"start":-1,"end":34}},"x_scale":{"type":"object","name":"LinearScale","id":"p1125"},"y_scale":{"type":"object","name":"LinearScale","id":"p1126"},"title":{"type":"object","name":"Title","id":"p1116","attributes":{"text":"Protein vs Calories"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1153","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1110","attributes":{"selected":{"type":"object","name":"Selection","id":"p1111","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1112"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"pQAAACIAAACbAAAA0AAAAHQAAAB4AAAAOwAAAPoAAABMAAAARwAAADQAAACSAQAA"},"shape":[12],"dtype":"int32","order":"little"}],["y",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAP0BmZmZmZmYGQAAAAAAAACpAAAAAAAAANEAAAAAAAAAiQGZmZmZmZhBAAAAAAAAAJEAAAAAAAAA6QAAAAAAAACBAAAAAAAAABEAzMzMzMzPTPwAAAAAAADlA"},"shape":[12],"dtype":"float64","order":"little"}],["food",{"type":"ndarray","array":["Chicken Breast","Broccoli","Eggs","Salmon","Lentils","Quinoa","Greek Yogurt","Beef (Lean)","Tofu","Oatmeal","Apples","Cheese (Cheddar)"],"shape":[12],"dtype":"object","order":"little"}],["predicted",{"type":"ndarray","array":{"type":"bytes","data":"Ga41mNC9LECUz+wv0YIRQOB3ltw/NytAoIsXeZ+mMUBpJENnC0QlQBk66UtF4CVAsN4I2qQjGUB+fX9pz9o0QAuXjPGQUx5A0mDtNQDNHEDHksM52gAXQMqM6bCNOUBA"},"shape":[12],"dtype":"float64","order":"little"}],["residual",{"type":"ndarray","array":{"type":"bytes","data":"9CjlsxehMECEcebydz75vwB+Z8n9c+O/AKNDNwTLAkBIIxk6WyD6v8wNbDEkWhvAoELuS7a4DUAICgJawpQUQFCPNufwxto/0mDtNQDNEsCUX5AGp80VwFBmTIdtzB3A"},"shape":[12],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1154","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1155"}}},"glyph":{"type":"object","name":"Scatter","id":"p1150","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"fill_color":{"type":"value","value":"black"}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1151","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"black"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1152","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":10},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"black"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1162","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1156","attributes":{"selected":{"type":"object","name":"Selection","id":"p1157","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1158"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAAAQUAxb2dIzNtCQGLezpCYt0RAlE022WSTRkDEvJ0hMW9IQPYrBWr9SkpAJ5tssskmTEBYCtT6lQJOQIl5O0Ni3k9AXXTRRRfdUED2KwVq/cpRQI7jOI7juFJAJ5tsssmmU0DAUqDWr5RUQFgK1PqVglVA8MEHH3xwVkCJeTtDYl5XQCIxb2dITFhAuuiiiy46WUBToNavFChaQOtXCtT6FVtAhA8++OADXEAcx3Ecx/FcQLV+pUCt311ATjbZZJPNXkDm7QyJebtfQMBSoNavVGBAjC666KLLYEBYCtT6lUJhQCTm7QyJuWFA8MEHH3wwYkC8nSExb6diQIl5O0NiHmNAVlVVVVWVY0AiMW9nSAxkQO4MiXk7g2RAuuiiiy76ZECGxLydIXFlQFOg1q8U6GVAH3zwwQdfZkDrVwrU+tVmQLgzJObtTGdAhA8++ODDZ0BQ61cK1DpoQBzHcRzHsWhA6aKLLrooaUC1fqVArZ9pQIFav1KgFmpATjbZZJONakAaEvN2hgRrQObtDIl5e2tAsskmm2zya0B/pUCtX2lsQEuBWr9S4GxAF1100UVXbUDjOI7jOM5tQLAUqPUrRW5AfPDBBx+8bkBIzNsZEjNvQBWo9SsFqm9A8MEHH3wQcEDWrxSo9UtwQLydITFvh3BAo4suuujCcECJeTtDYv5wQG9nSMzbOXFAVlVVVVV1cUA8Q2LezrBxQCIxb2dI7HFACB988MEnckDuDIl5O2NyQNT6lQK1nnJAuuiiiy7ackCg1q8UqBVzQIbEvJ0hUXNAbbLJJpuMc0BToNavFMhzQDmO4ziOA3RAH3zwwQc/dEAFav1KgXp0QOtXCtT6tXRA0UUXXXTxdEC4MyTm7Sx1QJ4hMW9naHVAhA8++OCjdUBq/UqBWt91QFDrVwrUGnZANtlkk01WdkAcx3Ecx5F2QAO1fqVAzXZA6aKLLroId0DPkJi3M0R3QLV+pUCtf3dAm2yyySa7d0CBWr9SoPZ3QGdIzNsZMnhATjbZZJNteEA0JObtDKl4QBoS83aG5HhAAAAAAAAgeUA="},"shape":[100],"dtype":"float64","order":"little"}],["y",{"type":"ndarray","array":{"type":"bytes","data":"lM/sL9GCEUCglX5FLaUSQKxbEFuJxxNAuSGicOXpFEDE5zOGQQwWQNGtxZudLhdA3nNXsflQGEDqOenGVXMZQPb/etyxlRpAAsYM8g24G0APjJ4HatocQBtSMB3G/B1AJxjCMiIfH0Aa7ykkvyAgQCDS8i7tsSBAJrW7ORtDIUAsmIRESdQhQDJ7TU93ZSJAOF4WWqX2IkA+Qd9k04cjQEQkqG8BGSRASwdxei+qJEBR6jmFXTslQFfNApCLzCVAXbDLmrldJkBjk5Sl5+4mQGp2XbAVgCdAcFkmu0MRKEB2PO/FcaIoQHwfuNCfMylAgQKB283EKUCH5Unm+1UqQI7IEvEp5ypAlavb+1d4K0CbjqQGhgksQKFxbRG0mixAp1Q2HOIrLUCsN/8mEL0tQLMayDE+Ti5Auf2QPGzfLkC/4FlHmnAvQONhESnkADBAZtN1LntJMEDpRNozEpIwQGy2Pjmp2jBA7yejPkAjMUBymQdE12sxQPUKbElutDFAeHzQTgX9MUD87TRUnEUyQH5fmVkzjjJAAtH9XsrWMkCEQmJkYR8zQAi0xmn4ZzNAiiUrb4+wM0AOl490JvkzQJAI9Hm9QTRAFHpYf1SKNECW67yE69I0QBpdIYqCGzVAnM6FjxlkNUAgQOqUsKw1QKKxTppH9TVAJiOzn949NkCqlBeldYY2QCwGfKoMzzZAsHfgr6MXN0A06US1OmA3QLZaqbrRqDdAOswNwGjxN0C8PXLF/zk4QD6v1sqWgjhAwiA70C3LOEBEkp/VxBM5QMgDBNtbXDlATHVo4PKkOUDO5szlie05QFJYMesgNjpA1MmV8Ld+OkBYO/r1Tsc6QNqsXvvlDztAXB7DAH1YO0DijycGFKE7QGQBjAur6TtA5nLwEEIyPEBq5FQW2Xo8QOxVuRtwwzxAcMcdIQcMPUDyOIImnlQ9QHaq5is1nT1A+htLMczlPUB8ja82Yy4+QAD/Ezz6dj5AgnB4QZG/PkAG4txGKAg/QIhTQUy/UD9ADMWlUVaZP0CONgpX7eE/QAlUNy5CFUBAyozpsI05QEA="},"shape":[100],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1163","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1164"}}},"glyph":{"type":"object","name":"Line","id":"p1159","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red"}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1160","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red","line_alpha":0.1}},"muted_glyph":{"type":"object","name":"Line","id":"p1161","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"line_color":"red","line_alpha":0.2}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1122","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1137"},{"type":"object","name":"WheelZoomTool","id":"p1138","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1139","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1140","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"ResetTool","id":"p1145"},{"type":"object","name":"SaveTool","id":"p1146"},{"type":"object","name":"HoverTool","id":"p1165","attributes":{"renderers":"auto","tooltips":[["Food","@food"],["Residual","@residual{0.00}"]]}}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1132","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1133","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1134"},"axis_label":"Protein (g per 100g)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1135"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1127","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1128","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1129"},"axis_label":"Calories (per 100g)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1130"}}}],"center":[{"type":"object","name":"Grid","id":"p1131","attributes":{"axis":{"id":"p1127"}}},{"type":"object","name":"Grid","id":"p1136","attributes":{"dimension":1,"axis":{"id":"p1132"}}}]}}}}]}}]}};
  const render_items = [{"docid":"732beb03-b63a-4b67-994b-b0f777195124","roots":{"p1168":"f517635d-0a6b-4b0f-aaa3-1e88fcb56205"},"root_ids":["p1168"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<section id="outliers">
<h3>Outliers<a class="headerlink" href="#outliers" title="Permalink to this heading">#</a></h3>
<p>Outliers are not emphasized in <span id="id2">[<a class="reference internal" href="bibliography.html#id3" title="David Freedman, Robert Pisani, and Roger Purves. Statistics. WW Norton &amp; Company, 4 edition, 2007. URL: https://clio.columbia.edu/catalog/6285515.">FPP07</a>]</span>, but you might already apply the term to any data point that singly defies the trend in the rest of the data. In the data above, you might argue that the Little Debbie Nutty Buddy is an outlier. The slope would be greater and the regression line would better fit the data if we could drop the Nutty Buddy.</p>
<p>Should you drop the Nutty Buddy observation? We can live with “maybe.” It will eventually come down to whether or not Nutty Buddies are relevant for your purposes. If you care only about the relationship between calories and protein in unprocessed foods, it is prudent to drop the Nutty Buddy. If you care about the diet of someone who knows and enjoys such gustatory treasures, include the Nutty Buddy. If want to study a standard American diet, you should really add more proccessed foods to the data.</p>
</section>
</section>
<section id="evaluating-the-regression-line">
<h2>Evaluating the Regression Line<a class="headerlink" href="#evaluating-the-regression-line" title="Permalink to this heading">#</a></h2>
<p>A regression performs well if the predictions are accurate. This is a property of the residuals. If residuals are typically close to zero, then the regression is good. We can’t look at the average residual-the average residual will always be zero (for the residuals calculated from the data used to find the regression line). This is no different than how we had to summarize deviations from an average when covering standard deviation. Similarly, we turn to a root mean square calculation.</p>
<p>We summarize the typical residual by calculating the <strong>root mean square error</strong> (rms error or RMSE). This is the root mean square size of a list, applied to the list of residuals.</p>
<div class="math notranslate nohighlight">
\[\text{root mean square error} = \sqrt{\frac{1}{n}\sum_{i=1}^n \text{residual}_i^2}.\]</div>
<p>It turns out, this is equal to <span class="math notranslate nohighlight">\(\sqrt{1-r^2} \times \text{SD}_y\)</span>. Why does it make more sense that <span class="math notranslate nohighlight">\(\text{SD}_y\)</span> appears in the formula instead of <span class="math notranslate nohighlight">\(\text{SD}_x?\)</span></p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
root mean square error<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Units. Residuals are vertical distances, measured in <span class="math notranslate nohighlight">\(y\)</span> units.</p>
</div>
</details><p>Notice, because rms error = <span class="math notranslate nohighlight">\(\sqrt{1-r^2} \times \text{SD}_y\)</span>, then the rms error is less than or equal to <span class="math notranslate nohighlight">\(\text{SD}_y\)</span>. In words, we can better predict <span class="math notranslate nohighlight">\(y\)</span> using <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> than by using <span class="math notranslate nohighlight">\(y\)</span> alone (constructing a regression line or an average, respectively).</p>
<section id="the-residual-plot">
<h3>The residual plot<a class="headerlink" href="#the-residual-plot" title="Permalink to this heading">#</a></h3>
<p>A <strong>residual plot</strong> is constructed as a scatter diagram of the <span class="math notranslate nohighlight">\(x\)</span> values and the residual. The specific pairs are <span class="math notranslate nohighlight">\((x, y - \hat{y})\)</span>. If the residual plot shows a trend, like increasing spread or something nonlinear, that’s a sign a linear regression might not work well.</p>
<figure class="align-default" id="fathersonresidual">
<a class="reference internal image-reference" href="_images/FatherSonResidual.svg"><img alt="_images/FatherSonResidual.svg" src="_images/FatherSonResidual.svg" width="77%" /></a>
<figcaption>
<p><span class="caption-number">Fig. 31 </span><span class="caption-text">The diagram on the left related <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span>. The residual plot on the right shows no systematic pattern between <span class="math notranslate nohighlight">\(x\)</span> and the residuals.</span><a class="headerlink" href="#fathersonresidual" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p>The residual plot should be a formless cloud like in <a class="reference internal" href="#fathersonresidual"><span class="std std-numref">Fig. 31</span></a>. This is a residual plot showing equal variance in the residuals or <strong>homoscedasticity</strong>. This means the residuals have a similar kind of distribution for any narrow interval on the <span class="math notranslate nohighlight">\(x\)</span>-axis. While we do see less range on the extremes above, that is just because there are fewer data points at the extremes. In this case, the root mean square error describes the typical residual for any region on the <span class="math notranslate nohighlight">\(x\)</span>-axis. And, similar to SD, the the 68-95 often applies to football-shaped scatter diagrams. About 68% of the data will be within one rms error of the regression line and 95% will be within two rms errors.</p>
<p>If homoscedasticity is violated, and the residual plot shows some systematic pattern, then we say the residual plot demonstrates <strong>heteroscedasticity</strong>. Heteroscedasticity arises naturally when something becomes more or less predictable as the independent variable increases. <a class="reference internal" href="#sleeplessnessresiduals"><span class="std std-numref">Fig. 32</span></a> shows the example of predicting sleeplessness from the amount of sleep someone got in a day. If someone slept the entire day, it is easy to predict that they experienced no sleeplessness. However, at low levels of sleep, it’s hard to know if that’s because the person was tossing and turning or just raving.</p>
<figure class="align-default" id="sleeplessnessresiduals">
<a class="reference internal image-reference" href="_images/sleeplessnessResiduals.svg"><img alt="_images/sleeplessnessResiduals.svg" src="_images/sleeplessnessResiduals.svg" width="90%" /></a>
<figcaption>
<p><span class="caption-number">Fig. 32 </span><span class="caption-text">It’s easy to predict sleeplessness if you sleep all day.</span><a class="headerlink" href="#sleeplessnessresiduals" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="regression-fallacy">
<h2>Regression Fallacy<a class="headerlink" href="#regression-fallacy" title="Permalink to this heading">#</a></h2>
<p>In the next few chapters, we will develop an appreciation for randomness and chance processes. To whet your appetite, we revisit the idea of regression to mediocrity. Suppose we understood basketball performance for a single game to be determined by ability and some noise captured in a <em>chance error</em>, as described by the equation below.</p>
<div class="math notranslate nohighlight">
\[\text{Basketball Performance} = 1 \times \text{Basketball Ability} + \text{chance error}\]</div>
<p>When we write this down, we are theorizing this as a description of how the universe works, as if we discovered a gravitational constant or <span class="math notranslate nohighlight">\(E=mc^2\)</span>. The chance error stands in for things that are actually random–maybe some NBA players are just consistently lucky–or things that are unobserved by statisticians like yourself and thus random from your perspective if not instrinsically. Though it’s not exactly realistic, let’s suppose we have some all-encompassing measure of basketball ability, and the chance error is all random luck.</p>
<p>Luck will mean that some percentage of players will outperform their abilities, some will underperform, but most will perform close to their abilities. By the time the next game rolls around, everyone’s luck is reset, with an equal chance of good luck, bad luck, or neutral luck.</p>
<table class="table" id="sophslump">
<caption><span class="caption-number">Table 10 </span><span class="caption-text">Chance and Ability</span><a class="headerlink" href="#sophslump" title="Permalink to this table">#</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Player</p></th>
<th class="head"><p>Ability</p></th>
<th class="head"><p>Luck 1</p></th>
<th class="head"><p>Performance 1</p></th>
<th class="head"><p>Luck 2</p></th>
<th class="head"><p>Performance 2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Player 1</p></td>
<td><p>4</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>Player 2</p></td>
<td><p>4</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>Player 3</p></td>
<td><p>4</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>Player 4</p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p>Player 5</p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>Player 6</p></td>
<td><p>4</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td><p>Player 7</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
<td><p>-1</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>Player 8</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
<td><p>0</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>Player 9</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
<td><p>1</p></td>
<td><p>5</p></td>
</tr>
</tbody>
</table>
<p>All players have equal ability, so the “bad” players in <a class="reference internal" href="#sophslump"><span class="std std-numref">Table 10</span></a> are those who drew bad luck in game one. On average, they outperform their first game in their second. Similarly, the “good” players underperform in their second game. At the scale of season to season instead of game to game, this can explain the sophomore slump as a straightforward consequence of randomness. The <strong>regression fallacy</strong> is the misinterpretation of this phenomenon as something other than random luck.</p>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<div class="exercise admonition" id="assortMating">

<p class="admonition-title"><span class="caption-number">Exercise 23 </span></p>
<section id="exercise-content">
<p>We want to study assortative mating among couples. Specifically, if partner <em>A</em> makes a lot of money, does partner <em>B</em> also make a lot?</p>
<ol class="arabic simple">
<li><p>Are you more interested in correlation or a regression slope? Explain your choice.</p></li>
<li><p>What would a correctly structured data set look like? What are the variables? Discuss at least one ambiguity related to the construction of <span class="math notranslate nohighlight">\(x\)</span> and <span class="math notranslate nohighlight">\(y\)</span> variables.</p></li>
</ol>
</section>
</div>
<div class="exercise admonition" id="residualFur">

<p class="admonition-title"><span class="caption-number">Exercise 24 </span></p>
<section id="exercise-content">
<p>Predicting how much someone spends on expensive fur coats based on their income is easy for low income levels and difficult at high income levels. Imagine you ran a regression predicting spending on fur coats from income. Sketch a plausible residual plot.</p>
</section>
</div>
<div class="exercise admonition" id="heartoverheight">

<p class="admonition-title"><span class="caption-number">Exercise 25 </span></p>
<section id="exercise-content">
<p>The graph below shows the relationship between height and basketball ability. Suppose a professional basketball player is someone with exceptionally high ability. Why might a professional underestimate the importance of height if they only observe other professional athletes?</p>
<figure class="align-default" id="basketballheight">
<a class="reference internal image-reference" href="_images/basketballHeight.svg"><img alt="_images/basketballHeight.svg" src="_images/basketballHeight.svg" width="77%" /></a>
</figure>
</section>
</div>
</section>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Permalink to this heading">#</a></h2>
<p>Below is a complete regression analysis in Python.</p>
<p>The scatter plot demonstrates a linear trend between quantitative variables. The residual plot also demonstrates equal variance or homoscedasticity. We can be confident that linear regression is appropriate for this data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install --upgrade statwrap</span>
<span class="kn">import</span> <span class="nn">statwrap</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Markdown</span> <span class="k">as</span> <span class="n">md</span>
<span class="o">%</span><span class="k">use_all</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://raw.githubusercontent.com/alexanderthclark/Stats1101/main/Data/FatherSonHeights/pearson.csv&#39;</span>
<span class="c1"># load a DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c1"># Set independent and dependent variables</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Son&#39;</span><span class="p">]</span> <span class="c1"># Son&#39;s heights</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Father&#39;</span><span class="p">]</span> <span class="c1"># Father&#39;s heights</span>

<span class="c1"># Run regression</span>
<span class="n">reg</span> <span class="o">=</span> <span class="n">linest</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>

<span class="c1"># Show regression line equation in output below</span>
<span class="n">display</span><span class="p">(</span><span class="n">md</span><span class="p">(</span><span class="s1">&#39;Regression line:&#39;</span><span class="p">),</span> <span class="n">reg</span><span class="p">)</span>

<span class="c1"># Plot data and regression line</span>
<span class="n">reg</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;Father</span><span class="se">\&#39;</span><span class="s1">s Height&#39;</span><span class="p">,</span>
         <span class="n">ylabel</span> <span class="o">=</span> <span class="s2">&quot;Son&#39;s Height&quot;</span><span class="p">,</span>
         <span class="n">title</span> <span class="o">=</span> <span class="s1">&#39;Regression to Mediocrity&#39;</span><span class="p">)</span>

<span class="c1"># Find rmse</span>
<span class="n">rmse</span> <span class="o">=</span> <span class="n">reg</span><span class="o">.</span><span class="n">rms_error</span>

<span class="c1"># Make residual plot</span>
<span class="n">scatter_plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">reg</span><span class="o">.</span><span class="n">residuals</span><span class="p">,</span>
            <span class="n">xlabel</span> <span class="o">=</span> <span class="s2">&quot;Father&#39;s Height&quot;</span><span class="p">,</span>
            <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Residuals&#39;</span><span class="p">,</span>
            <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Residual Plot</span><span class="se">\n</span><span class="s1">RMSE=</span><span class="si">{</span><span class="n">rmse</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
            <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;C1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p>Regression line:</p>
<div class="output text_latex math notranslate nohighlight">
\[\hat{y} = 33.893 +0.514 x_{1}\]</div>
<img alt="_images/1578a0256083ac7b940ddc0cdf9dc28732e57b36bafea298902ed48f03598c92.png" src="_images/1578a0256083ac7b940ddc0cdf9dc28732e57b36bafea298902ed48f03598c92.png" />
<img alt="_images/4802067ef2de457bb011182da385e023e3c03484a841bf58f3ded97745ccf628.png" src="_images/4802067ef2de457bb011182da385e023e3c03484a841bf58f3ded97745ccf628.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "alexanderthclark/Stats1101",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="correlation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Correlation</p>
      </div>
    </a>
    <a class="right-next"
       href="probability.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Probability</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-line">Regression Line</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-slope">The Slope</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#linearity">Linearity</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finding-the-regression-line">Finding the Regression Line</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#residuals-errors">Residuals (Errors)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#outliers">Outliers</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluating-the-regression-line">Evaluating the Regression Line</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-residual-plot">The residual plot</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#regression-fallacy">Regression Fallacy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alexander Clark, Columbia University
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>